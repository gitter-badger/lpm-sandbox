FROM gogo40/lpm-sandbox:base

########################################################################################
#Add source code files
########################################################################################

ADD ar2gems-develop.zip /
ADD lpm-ufrgs-sgems-plugins-develop.zip /

########################################################################################
#Upgrade image
########################################################################################

RUN apt-get -y update
RUN apt-get -y upgrade

########################################################################################
#Install unzip
########################################################################################

RUN apt-get -y install unzip mingw32

########################################################################################
#Install qt5 libraries
########################################################################################

RUN apt-get -y install \
wine


########################################################################################
#Unzip source codes
########################################################################################

RUN unzip ar2gems-develop.zip
RUN unzip lpm-ufrgs-sgems-plugins-develop.zip

RUN echo "Number of processors : $nproc"

########################################################################################
#build VTK
########################################################################################

RUN mkdir -p vtk-build

WORKDIR VTK

RUN git checkout v6.2.0.rc1

WORKDIR vtk-build


########################################################################################
#Download Qt for windows
########################################################################################
RUN wget http://download.qt.io/official_releases/qt/5.4/5.4.1/qt-opensource-windows-x86-mingw491_opengl-5.4.1.exe












WORKDIR /